<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='forgot_password.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <title>Forgot Password</title>
</head>

<body>
    <div class="container">
        <h2>Password Recovery</h2>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">
            <g id="freepik--Floor--inject-26">
                <path id="freepik--floor--inject-26"
                    d="M77.66,250.26c-95.18,54.95-95.17,144.05,0,199s249.49,54.95,344.67,0,95.17-144,0-199S172.84,195.31,77.66,250.26Z"
                    style="fill:#fafafa"></path>
            </g>
            <!-- Lock icon SVG -->
            <g id="freepik--Lock--inject-26">
                <path d="M250,180c-24.85,0-45,20.15-45,45v15h90v-15C295,200.15,274.85,180,250,180z" style="fill:#004FFF"/>
                <path d="M295,240H205v45c0,24.85,20.15,45,45,45s45-20.15,45-45V240z" style="fill:#004FFF;opacity:0.7"/>
                <circle cx="250" cy="270" r="15" style="fill:white"/>
                <rect x="245" y="270" width="10" height="25" style="fill:white"/>
            </g>
        </svg>

        <div id="step1" class="step active">
            <div class="step-content">
                <p class="instruction-text">Enter your email address to receive a verification code</p>
                <div class="input-group">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="email" name="email" placeholder="Email" required>
                </div>
                <button type="button" id="send-code-btn" class="action-button">Send Verification Code</button>
                <p id="step1-message" class="message"></p>
            </div>
        </div>

        <div id="step2" class="step">
            <div class="step-content">
                <p class="instruction-text">Enter the verification code sent to your email</p>
                <div class="input-group">
                    <i class="fas fa-key"></i>
                    <input type="text" id="verification-code" name="verification_code" placeholder="Verification Code" required>
                </div>
                <button type="button" id="verify-code-btn" class="action-button">Verify Code</button>
                <p id="step2-message" class="message"></p>
            </div>
        </div>

        <div id="step3" class="step">
            <div class="step-content">
                <p class="instruction-text">Set your new password</p>
                <div class="input-group password-group">
                    <i class="fas fa-lock lock-icon"></i>
                    <input id="new-password" type="password" name="new_password" placeholder="New Password" required>
                    <i class="fas fa-eye-slash eye-icon" id="toggle-password-visibility" onclick="togglePasswordVisibility()"></i>
                </div>
                <div class="input-group password-group">
                    <i class="fas fa-lock lock-icon"></i>
                    <input id="confirm-new-password" type="password" name="confirm_new_password" placeholder="Confirm New Password" required>
                </div>

                <div class="password-requirements">
                    <h4>Password Requirements:</h4>
                    <div class="requirement" id="length-requirement">
                        <i class="fas fa-times-circle"></i> At least 8 characters
                    </div>
                    <div class="requirement" id="letter-requirement">
                        <i class="fas fa-times-circle"></i> Contains letters
                    </div>
                    <div class="requirement" id="number-requirement">
                        <i class="fas fa-times-circle"></i> Contains numbers
                    </div>
                    <div class="requirement" id="uppercase-requirement">
                        <i class="fas fa-times-circle"></i> Contains uppercase letter
                    </div>
                    <div class="requirement" id="match-requirement">
                        <i class="fas fa-times-circle"></i> Passwords match
                    </div>
                </div>

                <button type="button" id="reset-password-btn" class="action-button">Reset Password</button>
                <p id="step3-message" class="message"></p>
            </div>
        </div>

        <div class="bottom-links">
            <p>Remember your password? <a href="/login">Login</a></p>
        </div>
    </div>

    <script src="{{ url_for('static', filename='forgot_password.js') }}"></script>
</body>

</html>